# Copy this file to .env and adjust as needed. All uncommented keys are required.

POSTGRES_USER=YOUR_POSTGRES_USER
POSTGRES_PASSWORD=YOUR_POSTGRES_PASSWORD
POSTGRES_DB=YOUR_POSTGRES_DB
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

DATABASE_URL=postgresql+psycopg://YOUR_POSTGRES_USER:YOUR_POSTGRES_PASSWORD@postgres:5432/YOUR_POSTGRES_DB
POSTGRES_DSN=postgresql://YOUR_POSTGRES_USER:YOUR_POSTGRES_PASSWORD@postgres:5432/YOUR_POSTGRES_DB

MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=YOUR_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=YOUR_MINIO_SECRET_KEY
MINIO_SECURE=0
MINIO_BUCKET_RAW_PDF=YOUR_RAW_BUCKET
MINIO_BUCKET_DERIVED=YOUR_DERIVED_BUCKET

# Embeddings configuration
# For CPU-only (Mac/Docker): Use batch_size=6-8, timeout=240-300s
# For GPU: Can use batch_size=16-32, timeout=120s
EMBEDDING_MODEL_NAME=nomic-ai/nomic-embed-text-v1.5
EMBEDDING_API_BASE_URL=http://embedding:8000
EMBEDDING_BATCH_SIZE=8
EMBEDDING_API_TIMEOUT=240
EMBEDDING_PARALLEL_BATCHES=2

# PDF processing configuration
# batch_size: Number of documents to fetch per iteration
# max_workers: Parallel worker threads (2-4 recommended for I/O-bound tasks)
PDF_BATCH_SIZE=16
PDF_MAX_WORKERS=2

# Table extraction configuration
# batch_size: Documents to process per iteration
# max_workers: Parallel processes (4-8 recommended, CPU-intensive)
TABLE_BATCH_SIZE=16
TABLE_MAX_WORKERS=4

# LLM configuration
# Example: qwen2.5:7b (recommended) or qwen2.5:1.5b for CPU-only
LLM_MODEL_NAME=qwen2.5:7b
LLM_API_BASE_URL=http://llm:11434
LLM_API_KEY=

# Optional: Cross-encoder reranking for improved retrieval accuracy
# Trade-off: +200-500ms latency for +25-40% accuracy gain
# Disabled by default (0), enable with USE_RERANKING=1
USE_RERANKING=0
# RERANKER_MODEL_NAME=cross-encoder/ms-marco-MiniLM-L-6-v2  # Optional: override default
# RERANKER_DEVICE=mps  # Optional: cpu, cuda, mps, or auto-detect if not set
# RERANKER_BATCH_SIZE=32  # Optional: batch size for reranking

STREAMLIT_SERVER_PORT=8501
# Accepts comma separated years, ranges (2022-2024), or open ended (2023+)
CRAWLER_YEAR_FILTER=
